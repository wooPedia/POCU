# COMP 3200 - 실습 9

<br>

게임 프로그래밍을 하다 보면 종종 같은 형의 개체들을 많이 생성하거나 지워야 할 때가 있습니다. 예를 들어 FPS 게임을 만드는 경우를 생각해 보죠. 게임에서 플레이어가 총을 쏘면 총알이 발사되어 표적까지 날아가야 합니다. 이걸 구현하려면 플레이어가 방아쇠를 당겼을 때 총알 개체의 인스턴스를 만들고, 총알이 표적에 맞았을 때 개체를 지워야 하겠죠. 그리고 유저가 격발할 때마다(FPS 게임에서 늘상 일어나는 일이죠) 매번 이 과정을 반복해야 할 겁니다. 이렇게 구현하면 작동은 합니다만 심각한 문제를 동반하죠. 왜냐하면 개체를 생성하고 지우는 데 드는 비용이 만만치 않을 뿐더러 이걸 자주 하면 메모리 단편화까지 발생할 수 있기 때문입니다.

이러한 문제를 해결하는 방법 중 하나가 개체 풀 패턴(Object Pool Pattern)입니다. 개체 풀 패턴이란 개체가 필요할 때마다 직접 인스턴스를 만드는 대신 개체 풀에 보관되어 있는 사용 가능한 개체를 그냥 가져다 쓰는 방법입니다. 또한, 개체가 필요 없어졌을 때에도 개체를 바로 지우지 않고 풀에 반납합니다. 이러면 개체를 생성하고 지우는 일은 개체 풀이 도맡아 처리하는 꼴이 되죠.

자, 여러분은 POCU 게임 스튜디오에 쥬니어 프로그래머로 채용되어, 회사의 차기작을 개발 중인 팀에 배치되었습니다. 그런데 지지리 복도 없지... 얼마 되지도 않았는데 시니어 엔지니어가 퇴사해 버렸습니다. IceCube와 Game 클래스만 구현해 놓고 말이지요. 이제 개체 풀을 구현하고 Game 개체가 이 풀을 사용할 수 있도록 수정하는 업무가 여러분의 일이 되고 말았네요. 행운을 빕니다!